{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-6 mx-auto">
            <h1 class="text-center">My Tasks</h1>

            <form action="{{ url_for('main.home') }}" method="POST" class="mb-3">
                <div class="input-group">
                    <input type="text" name="content" id="content" class="form-control" placeholder="Enter a new task">
                    <button type="submit" class="btn btn-primary">Add Task</button>
                </div>
            </form>

            <ul class="list-group">
                {% for task in tasks %}
                <li
                    class="list-group-item d-flex justify-content-between align-items-center {% if task.completed %}list-group-item-success{% endif %}">
                    <span {% if task.completed %}style="text-decoration: line-through;" {% endif %}>{{ task.content
                        }}</span>
                    <div>
                        <form action="{{ url_for('main.complete_task', id=task.id) }}" method="POST"
                            style="display: inline;">
                            <button type="submit"
                                class="btn {% if task.completed %}btn-warning{% else %}btn-success{% endif %} btn-sm">
                                {% if not task.completed %}Complete{% else %}Incomplete{% endif %}
                            </button>
                        </form>
                        <form action="{{ url_for('main.delete_task', id=task.id) }}" method="POST"
                            style="display: inline;">
                            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                        </form>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>

    </div>
</div>
{% endblock %}